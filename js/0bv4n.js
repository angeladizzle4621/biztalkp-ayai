document.addEventListener("DOMContentLoaded",(()=>{bindEvents(),initFAQ(),initializeTransactions(),startTransactionRotation(),updateTokenData(),fetchTokenData()}));let transactionTimer,tokenData={price:window.INITIAL_PRICE,symbol:window.TOKEN_SYMBOL,mcap:window.INITIAL_MC,volume:window.INITIAL_VOLUME,change:window.INITIAL_CHANGE};function bindEvents(){const t=document.querySelector("._t"),e=document.querySelectorAll("._i");t.addEventListener("click",(()=>window.openModal())),e.forEach((t=>{t.addEventListener("click",(e=>{e.preventDefault();const n=t.getAttribute("href");if(n&&n.startsWith("#")){const t=n,e=document.querySelector(t);if(e){const n=document.querySelector("._m").offsetHeight,a=e.offsetTop-n-20;window.scrollTo({top:a,behavior:"smooth"}),console.log(`Scrolling to ${t} at position ${a}`)}}else handleNavigation(e.target.textContent)}))}))}function initFAQ(){const t=document.querySelectorAll("._tz");t.forEach((e=>{e.children[0].addEventListener("click",(()=>{t.forEach((t=>{t!==e&&t.classList.remove("active")})),e.classList.toggle("active")}))}))}function initializeTransactions(t){const e=document.getElementById("_c");if(!e)return;const n=[];for(let e=0;e<3;e++)try{const e=generateFakeTransaction(t);n.push(e)}catch(e){console.error("Error generating transaction:",e);const a=createFallbackTransaction(t);n.push(a)}n.sort(((t,e)=>e.timestamp-t.timestamp)),e.innerHTML="",n.forEach(((t,n)=>{const a=createTransactionElement(t),s=window.innerWidth<=760;s?(a.style.opacity="0",a.style.transform="translateX(100px) scale(0.95)",a.style.maxHeight="0",a.style.margin="0"):(a.style.opacity="0",a.style.transform="translateY(20px) scale(0.95)",a.style.maxHeight="0",a.style.margin="0"),e.appendChild(a),setTimeout((()=>{a.style.transition="all 0.5s ease",a.style.opacity="1",s?(a.style.transform="translateX(0) scale(1)",a.style.maxHeight="60px"):(a.style.transform="translateY(0) scale(1)",a.style.maxHeight="80px"),a.style.margin="0"}),200*n)})),console.log("Initialized 3 transactions")}function startTransactionRotation(){transactionTimer&&clearInterval(transactionTimer),transactionTimer=setInterval((()=>{addNewTransaction()}),1e4)}function addNewTransaction(){const t=document.getElementById("_c");if(t)try{const e=createTransactionElement(generateFakeTransaction()),n=window.innerWidth<=760;n?(e.style.opacity="0",e.style.transform="translateX(100px) scale(0.95)",e.style.maxHeight="0",e.style.margin="0"):(e.style.opacity="0",e.style.transform="translateY(-20px) scale(0.95)",e.style.maxHeight="0",e.style.margin="0"),t.insertBefore(e,t.firstChild),setTimeout((()=>{e.style.transition="all 0.5s ease",e.style.opacity="1",n?(e.style.transform="translateX(0) scale(1)",e.style.maxHeight="60px"):(e.style.transform="translateY(0) scale(1)",e.style.maxHeight="80px"),e.style.margin="0"}),50);const a=t.querySelectorAll(".transaction-item");if(a.length>3){const t=a[a.length-1],e=window.innerWidth<=760;t.style.transition="all 0.5s ease",t.style.opacity="0",e?(t.style.transform="translateX(-100px) scale(0.95)",t.style.maxHeight="0"):(t.style.transform="translateY(20px) scale(0.95)",t.style.maxHeight="0"),t.style.margin="0",setTimeout((()=>{t.parentNode&&t.parentNode.removeChild(t)}),500)}}catch(t){console.error("Error adding new transaction:",t)}}function generateFakeTransaction(){const t=700*Math.random()+300;let e=tokenData.price;"string"!=typeof e&&(e=String(e||"0.01"));const n=t/(parseFloat(e.replace("$","").replace(",",""))||.01),a=generateRandomHash(),s=generateRandomAddress(),o=generateRandomAddress(),r=Date.now()-24*Math.random()*60*60*1e3;return{hash:a,from:s,to:o,amount:n,usdAmount:t,tokenSymbol:tokenData.symbol,timestamp:r,status:"Confirmed"}}function generateRandomHash(){const t="0123456789abcdef";let e="";for(let n=0;n<64;n++)e+=t.charAt(Math.floor(16*Math.random()));return e}function generateRandomAddress(){const t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let e="";for(let n=0;n<44;n++)e+=t.charAt(Math.floor(58*Math.random()));return e}function createTransactionElement(t){const e=document.createElement("div");return e.className="transaction-item",e.innerHTML=`\n        <div class="transaction-field">\n            <span class="transaction-label">Hash</span>\n            <span class="transaction-value transaction-hash">${t.hash.substring(0,8)}...${t.hash.substring(56)}</span>\n        </div>\n        <div class="transaction-field">\n            <span class="transaction-label">From</span>\n            <span class="transaction-value">${t.from.substring(0,8)}...${t.from.substring(36)}</span>\n        </div>\n        <div class="transaction-field">\n            <span class="transaction-label">To</span>\n            <span class="transaction-value">${t.to.substring(0,8)}...${t.to.substring(36)}</span>\n        </div>\n        <div class="transaction-field">\n            <span class="transaction-label">Amount</span>\n            <span class="transaction-value transaction-amount">${t.amount.toFixed(2)} ${t.tokenSymbol}</span>\n        </div>\n        <div class="transaction-status">\n            <div class="status-dot"></div>\n            <span>${t.status}</span>\n        </div>\n    `,e}const fmt=new Intl.NumberFormat("de-DE");function fmtNumber(t){return fmt.format(Math.floor(t))}function formatNumberShort(t){return t>1e9?(t/1e9).toFixed(1)+"B":t>1e6?(t/1e6).toFixed(1)+"M":t>1e3?(t/1e3).toFixed(1)+"K":t.toFixed(0)}function updateTokenData(){document.querySelector("#_m").innerText="$"+fmtNumber(tokenData.mcap),document.querySelector("#_j").innerText="$"+fmtNumber(tokenData.volume),document.querySelector("#_3").innerText=(tokenData.change>0?"+":"-")+tokenData.change.toFixed(2)+"%",document.querySelector("#_z").innerText="$"+tokenData.price.toFixed(6),document.querySelector("#_s").innerText="$"+formatNumberShort(tokenData.mcap),document.querySelector("#_o").innerText="$"+formatNumberShort(tokenData.volume)}async function fetchTokenData(){const t="token-price-cache-"+window.TOKEN_SYMBOL;try{const e=JSON.parse(localStorage.getItem(t));if(!e)throw Error();tokenData=e,updateTokenData()}catch{const e=window.TOKEN_ADDRESS,n=await fetch("https://lite-api.jup.ag/tokens/v2/search?query="+e),a=(await n.json())[0];tokenData.mcap=a.mcap,tokenData.price=a.usdPrice,tokenData.volume=a.stats24h.buyVolume+a.stats24h.sellVolume,tokenData.change=a.stats24h.priceChange,updateTokenData(),localStorage.setItem(t,JSON.stringify(tokenData))}}